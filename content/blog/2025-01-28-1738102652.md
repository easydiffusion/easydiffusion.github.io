---
layout: post
title: "Post from Jan 28, 2025"
date: 2025-01-28 22:17:32  +0000
slug: 1738102652
tags: [easydiffusion, sdkit, freebird, worklog]
---

Continued to test and fix issues in sdkit, after the change to support DirectML. The change is fairly intrusive, since it removes direct references to `torch.cuda` with a layer of abstraction.

Fixed a few regressions, and it now passes all the regression tests for CPU and CUDA support (i.e. existing users). Will test for DirectML next, although it will fail (with out-of-memory) for anything but the simplest tests (since DirectML is quirky with memory allocation).

Spent a bit of time with Freebird - added the ability to scale the radius of curve points in Freebird (in EDIT mode), thanks to a user code contribution. And did some user support.

Also experimented with [libtorch](https://pytorch.org/cppdocs/frontend.html) and wrote a simple C++ program that uses `libtorch` for computation. Managed to compile it for CPU and CUDA using the instructions on their website. But it feels fairly heavyweight compared to ggml, especially if compiling staticly (would take a LONG time). The experiment was driven by a desire to reduce the installation size of Easy Diffusion (from the current 6-8 GB behemoth), without necessarily discarding torch. Might experiment with compiling libtorch staticly sometime, just to see how long it takes, and whether the final binary size is small enough for my needs.